ğŸ“ Amazon Affiliate Telegram Bot - Complete File Structure
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

affilate bot/
â”‚
â”œâ”€â”€ ğŸ“„ package.json                      # Project dependencies and scripts
â”œâ”€â”€ ğŸ“„ .env.example                      # Environment variables template
â”œâ”€â”€ ğŸ“„ .env                              # Your actual credentials (CREATE THIS)
â”œâ”€â”€ ğŸ“„ .gitignore                        # Git ignore rules
â”‚
â”œâ”€â”€ ğŸ“š DOCUMENTATION FILES
â”‚   â”œâ”€â”€ ğŸ“„ README.md                     # Main documentation (START HERE)
â”‚   â”œâ”€â”€ ğŸ“„ SETUP_GUIDE.md                # Step-by-step setup instructions
â”‚   â”œâ”€â”€ ğŸ“„ QUICK_REFERENCE.md            # Common commands and tips
â”‚   â”œâ”€â”€ ğŸ“„ ARCHITECTURE.md               # System design and architecture
â”‚   â”œâ”€â”€ ğŸ“„ INSTALLATION_CHECKLIST.md     # Setup checklist
â”‚   â”œâ”€â”€ ğŸ“„ PROJECT_SUMMARY.md            # Project overview
â”‚   â””â”€â”€ ğŸ“„ FILE_STRUCTURE.txt            # This file
â”‚
â”œâ”€â”€ ğŸ“„ supabase-setup.sql                # Database setup script
â”‚
â””â”€â”€ ğŸ“ src/                              # Source code directory
    â”‚
    â”œâ”€â”€ ğŸ“„ index.js                      # Main entry point (START HERE)
    â”‚   â”œâ”€â”€ Loads environment variables
    â”‚   â”œâ”€â”€ Validates configuration
    â”‚   â”œâ”€â”€ Initializes all modules
    â”‚   â”œâ”€â”€ Starts Express server
    â”‚   â””â”€â”€ Handles graceful shutdown
    â”‚
    â”œâ”€â”€ ğŸ“„ scheduler.js                  # Cron job scheduler
    â”‚   â”œâ”€â”€ Manages scheduled tasks
    â”‚   â”œâ”€â”€ Orchestrates deal-finding process
    â”‚   â”œâ”€â”€ Coordinates between modules
    â”‚   â””â”€â”€ Handles cleanup operations
    â”‚
    â”œâ”€â”€ ğŸ“ modules/                      # Core functionality modules
    â”‚   â”‚
    â”‚   â”œâ”€â”€ ğŸ“„ amazonAPI.js              # Amazon PA-API integration
    â”‚   â”‚   â”œâ”€â”€ AWS Signature V4 generation
    â”‚   â”‚   â”œâ”€â”€ Product search functionality
    â”‚   â”‚   â”œâ”€â”€ Discount filtering
    â”‚   â”‚   â”œâ”€â”€ Availability checking
    â”‚   â”‚   â””â”€â”€ Affiliate link generation
    â”‚   â”‚
    â”‚   â”œâ”€â”€ ğŸ“„ telegramBot.js            # Telegram Bot integration
    â”‚   â”‚   â”œâ”€â”€ Bot initialization
    â”‚   â”‚   â”œâ”€â”€ Message formatting
    â”‚   â”‚   â”œâ”€â”€ Image posting
    â”‚   â”‚   â”œâ”€â”€ Rate limit handling
    â”‚   â”‚   â””â”€â”€ Notification sending
    â”‚   â”‚
    â”‚   â””â”€â”€ ğŸ“„ database.js               # Supabase database operations
    â”‚       â”œâ”€â”€ Database initialization
    â”‚       â”œâ”€â”€ Duplicate checking
    â”‚       â”œâ”€â”€ Deal tracking
    â”‚       â”œâ”€â”€ Statistics retrieval
    â”‚       â””â”€â”€ Cleanup operations
    â”‚
    â””â”€â”€ ğŸ“ utils/                        # Utility functions
        â”‚
        â”œâ”€â”€ ğŸ“„ logger.js                 # Logging utility
        â”‚   â”œâ”€â”€ Info logging (â„¹ï¸)
        â”‚   â”œâ”€â”€ Success logging (âœ…)
        â”‚   â”œâ”€â”€ Error logging (âŒ)
        â”‚   â”œâ”€â”€ Warning logging (âš ï¸)
        â”‚   â””â”€â”€ Debug logging (ğŸ›)
        â”‚
        â””â”€â”€ ğŸ“„ helpers.js                # Helper functions
            â”œâ”€â”€ Discount calculation
            â”œâ”€â”€ Price formatting
            â”œâ”€â”€ Retry logic
            â”œâ”€â”€ Environment validation
            â””â”€â”€ Text sanitization


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š FILE STATISTICS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Total Files:           15+
Source Code Files:     7 (.js files)
Documentation Files:   7 (.md files)
Configuration Files:   3 (.json, .env, .gitignore)
Database Files:        1 (.sql)

Total Lines of Code:   ~2,000+
Total Documentation:   ~3,000+ lines


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ FILE DESCRIPTIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ROOT LEVEL FILES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

package.json
  â€¢ Project metadata and dependencies
  â€¢ NPM scripts (start, dev, test)
  â€¢ Version information
  â€¢ License details

.env.example
  â€¢ Template for environment variables
  â€¢ Shows required configuration
  â€¢ Safe to commit to Git
  â€¢ Copy to .env and fill in

.env (YOU CREATE THIS)
  â€¢ Your actual credentials
  â€¢ NEVER commit to Git
  â€¢ Contains sensitive API keys
  â€¢ Required for bot to run

.gitignore
  â€¢ Files to exclude from Git
  â€¢ Includes .env, node_modules
  â€¢ Prevents credential leaks
  â€¢ Standard Node.js ignores

supabase-setup.sql
  â€¢ Database table creation script
  â€¢ Run in Supabase SQL Editor
  â€¢ Creates posted_deals table
  â€¢ Sets up indexes and policies


DOCUMENTATION FILES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

README.md (START HERE)
  â€¢ Main project documentation
  â€¢ Features and overview
  â€¢ Quick start guide
  â€¢ Configuration options
  â€¢ Troubleshooting tips

SETUP_GUIDE.md
  â€¢ Detailed step-by-step setup
  â€¢ Amazon account setup
  â€¢ Telegram bot creation
  â€¢ Supabase configuration
  â€¢ Testing procedures

QUICK_REFERENCE.md
  â€¢ Common commands
  â€¢ Configuration quick edits
  â€¢ Database queries
  â€¢ Debugging tips
  â€¢ Pro tips and tricks

ARCHITECTURE.md
  â€¢ System design overview
  â€¢ Data flow diagrams
  â€¢ Module breakdown
  â€¢ Security architecture
  â€¢ Performance details

INSTALLATION_CHECKLIST.md
  â€¢ Step-by-step checklist
  â€¢ Verification steps
  â€¢ Success criteria
  â€¢ Troubleshooting guide
  â€¢ Final verification

PROJECT_SUMMARY.md
  â€¢ High-level overview
  â€¢ Key features
  â€¢ Technology stack
  â€¢ Performance metrics
  â€¢ Future enhancements

FILE_STRUCTURE.txt (THIS FILE)
  â€¢ Complete file tree
  â€¢ File descriptions
  â€¢ Directory structure
  â€¢ Quick navigation guide


SOURCE CODE FILES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

src/index.js (MAIN ENTRY POINT)
  â€¢ Application bootstrap
  â€¢ Module initialization
  â€¢ Express server setup
  â€¢ Error handling
  â€¢ Graceful shutdown
  Lines: ~200

src/scheduler.js
  â€¢ Cron job management
  â€¢ Job orchestration
  â€¢ Retry logic
  â€¢ Cleanup tasks
  Lines: ~150

src/modules/amazonAPI.js
  â€¢ Amazon PA-API client
  â€¢ AWS authentication
  â€¢ Product search
  â€¢ Filtering logic
  Lines: ~250

src/modules/telegramBot.js
  â€¢ Telegram Bot client
  â€¢ Message formatting
  â€¢ Image posting
  â€¢ Rate limiting
  Lines: ~180

src/modules/database.js
  â€¢ Supabase client
  â€¢ CRUD operations
  â€¢ Duplicate checking
  â€¢ Statistics
  Lines: ~200

src/utils/logger.js
  â€¢ Logging utility
  â€¢ Multiple log levels
  â€¢ Timestamp formatting
  â€¢ Color coding
  Lines: ~70

src/utils/helpers.js
  â€¢ Utility functions
  â€¢ Price formatting
  â€¢ Discount calculation
  â€¢ Validation
  Lines: ~100


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ—‚ï¸ DIRECTORY STRUCTURE EXPLAINED
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

src/
  Main source code directory
  Contains all application logic

src/modules/
  Core business logic modules
  Each module handles one integration
  Highly modular and reusable

src/utils/
  Shared utility functions
  Helper functions used across modules
  No business logic, just utilities


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“– READING ORDER (FOR NEW USERS)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. README.md                    # Understand what the bot does
2. SETUP_GUIDE.md               # Follow setup instructions
3. INSTALLATION_CHECKLIST.md    # Check off each step
4. .env.example                 # See what credentials you need
5. supabase-setup.sql           # Run database setup
6. QUICK_REFERENCE.md           # Learn common commands
7. src/index.js                 # Understand entry point
8. ARCHITECTURE.md              # Deep dive into design
9. PROJECT_SUMMARY.md           # Full project overview


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ”§ MODIFICATION GUIDE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

To modify search keywords:
  â†’ Edit: src/scheduler.js (line ~25)

To change message format:
  â†’ Edit: src/modules/telegramBot.js (formatDealMessage function)

To adjust filtering logic:
  â†’ Edit: src/modules/amazonAPI.js (filterHighDiscountProducts function)

To modify schedule:
  â†’ Edit: .env (CRON_SCHEDULE variable)

To change minimum discount:
  â†’ Edit: .env (MIN_DISCOUNT_PERCENTAGE variable)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ DEPLOYMENT FILES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

For PM2 (Process Manager):
  â€¢ No additional files needed
  â€¢ Use: pm2 start src/index.js --name amazon-bot

For Heroku:
  â€¢ Create: Procfile
  â€¢ Content: web: node src/index.js

For Docker (future):
  â€¢ Create: Dockerfile
  â€¢ Create: docker-compose.yml


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“¦ GENERATED FILES (AFTER npm install)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

node_modules/
  â€¢ All npm dependencies
  â€¢ Auto-generated
  â€¢ Don't commit to Git
  â€¢ ~50-100 MB

package-lock.json
  â€¢ Dependency lock file
  â€¢ Auto-generated
  â€¢ Commit to Git
  â€¢ Ensures consistent installs


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ”’ SENSITIVE FILES (NEVER COMMIT)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

.env
  â€¢ Contains all credentials
  â€¢ Listed in .gitignore
  â€¢ Backup securely
  â€¢ Never share publicly


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… QUICK NAVIGATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Need to...                          Open this file...
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Understand the project              README.md
Set up from scratch                 SETUP_GUIDE.md
Find a command                      QUICK_REFERENCE.md
Understand architecture             ARCHITECTURE.md
Check setup progress                INSTALLATION_CHECKLIST.md
See project overview                PROJECT_SUMMARY.md
Navigate files                      FILE_STRUCTURE.txt (this)
Configure credentials               .env
Set up database                     supabase-setup.sql
Start the bot                       src/index.js
Change schedule                     src/scheduler.js
Modify Amazon logic                 src/modules/amazonAPI.js
Modify Telegram messages            src/modules/telegramBot.js
Modify database logic               src/modules/database.js
Add logging                         src/utils/logger.js
Add utilities                       src/utils/helpers.js


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¯ NEXT STEPS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Read README.md to understand the project
2. Follow SETUP_GUIDE.md for installation
3. Use INSTALLATION_CHECKLIST.md to track progress
4. Refer to QUICK_REFERENCE.md for daily operations
5. Explore source code to customize behavior


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

End of File Structure Documentation
Generated: 2024
Version: 1.0.0

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

